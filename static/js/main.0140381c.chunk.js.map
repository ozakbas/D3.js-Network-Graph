{"version":3,"sources":["NetworkChart.js","App.js","reportWebVitals.js","index.js"],"names":["NetworkChart","data","useState","name","setName","useEffect","chart","d3","attr","append","tooltip","html","simulation","force","distance","d","w","weight","strength","radius","width","height","link","selectAll","links","enter","style","node","nodes","call","on","e","active","alphaTarget","restart","fx","x","fy","y","pageX","pageY","process","this","remove","text","source","target","className","class","App","raw","RawData","characters","count","forEach","element","index","Source","Target","includes","push","id","createNodes","lines","sourceElement","find","targetElement","createLinks","finalData","mergeData","setData","setIsLoaded","isLoaded","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0140381c.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nfunction NetworkChart({ data }) {\r\n\r\n  const [ name, setName ] = useState(\"\")\r\n  \r\n\r\n\r\n  useEffect(() => {\r\n    const width = 1680;\r\n    const height = 800;\r\n\r\n    /*\r\n\r\n    const zoom = d3.zoom().on(\"zoom\", zoom_function);\r\n\r\n    function zoom_function(e) {\r\n      var transform = e.transform;\r\n      root.style(\"transform\", \"translate(0px,0px) scale(\" + transform.k + \")\");\r\n    }\r\n\r\n    const root = d3.select(\".chartContainer\").call(zoom);\r\n    */\r\n\r\n    //Initializing chart\r\n    const chart = d3\r\n      .select(\".chart\")\r\n      .attr(\"width\", width)\r\n      .attr(\"height\", height)\r\n      .append(\"g\")\r\n      /*.call(d3.zoom().on(\"zoom\", function (event) {\r\n        chart.attr(\"transform\", event.transform)\r\n     }))*/;\r\n\r\n    //Creating tooltip\r\n    const tooltip = d3\r\n      .select(\".container\")\r\n      .append(\"div\")\r\n      .attr(\"class\", \"tooltip\")\r\n      .html(\"Tooltip\");\r\n\r\n    //Initializing force simulation\r\n    const simulation = d3\r\n      .forceSimulation()\r\n      .force(\r\n        \"link\",\r\n        d3\r\n          .forceLink()\r\n          .distance(function (d) {\r\n            let w = d.weight;\r\n            if (w > 1 && w <= 50) return 270;\r\n            else if (w > 50 && w <= 200) return 250;\r\n            else if (w > 200) return 200;\r\n          })\r\n          .strength(0.3)\r\n      )\r\n      .force(\"forceX\", d3.forceX().strength(0.1))\r\n      .force(\"forceY\", d3.forceY().strength(0.4))\r\n      .force(\"charge\", d3.forceManyBody().strength(-800))\r\n      .force(\"collide\", d3.forceCollide().strength(0.5).radius(30))\r\n      .force(\"center\", d3.forceCenter(width / 2, height / 2))\r\n      .force(\"y\", d3.forceY(0))\r\n      .force(\"x\", d3.forceX(0));\r\n\r\n    //Drag functions\r\n    const dragStart = (e, d) => {\r\n      if (!e.active) simulation.alphaTarget(0.1).restart();\r\n      d.fx = d.x;\r\n      d.fy = d.y;\r\n    };\r\n\r\n    const drag = (e, d) => {\r\n      d.fx = e.x;\r\n      d.fy = e.y;\r\n    };\r\n\r\n    const dragEnd = (e, d) => {\r\n      if (!e.active) simulation.alphaTarget(0);\r\n      d.fx = null;\r\n      d.fy = null;\r\n    };\r\n\r\n    //Creating links\r\n    const link = chart\r\n      .append(\"g\")\r\n      .attr(\"class\", \"links\")\r\n      .selectAll(\"line\")\r\n      .data(data.links)\r\n      .enter()\r\n      .append(\"line\")\r\n      .attr(\"stroke-width\", function (d) {\r\n        return d.weight / 20 + 1;\r\n      })\r\n      .style(\"stroke\", function (d) {\r\n        return `rgba(0, ${d.weight * 5}, 0,  ${d.weight / 25})`;\r\n      })\r\n      .style(\"opacity\", 0.2);\r\n\r\n    //Creating nodes\r\n    const node = d3\r\n      .select(\".chartContainer\")\r\n      .selectAll(\"div\")\r\n      .data(data.nodes)\r\n      .enter()\r\n      .append(\"div\")\r\n      .attr(\"class\", (d) => {\r\n        return \"node node-\" + d.name;\r\n      })\r\n      .call(\r\n        d3.drag().on(\"start\", dragStart).on(\"drag\", drag).on(\"end\", dragEnd)\r\n      )\r\n      .on(\"mouseover\", (e, d) => {\r\n        tooltip\r\n          .html(d.name)\r\n          .style(\"left\", e.pageX + 5 + \"px\")\r\n          .style(\"top\", e.pageY + 5 + \"px\")\r\n          .style(\"opacity\", 0.8);\r\n      })\r\n      .on(\"mouseout\", () => {\r\n        tooltip.style(\"opacity\", 0).style(\"left\", \"0px\").style(\"top\", \"0px\");\r\n      })\r\n      .on(\"click\",function(e, d) {\r\n        setName(d.name);\r\n      });\r\n\r\n    //domElement.append('img').attr('src', imagePath);\r\n\r\n    // Append images\r\n    node\r\n      .append(\"img\")\r\n      .attr(\"class\", \"img\")\r\n      .attr(\"src\", function (d) {\r\n        let path = `/resized-images/${d.name}.jpg`;\r\n        return process.env.PUBLIC_URL + path;\r\n      })\r\n\r\n      .attr(\"height\", 60)\r\n      .attr(\"width\", 60)\r\n      .on(\"error\", function () {\r\n        d3.select(this).remove();\r\n      });\r\n    node\r\n      .append(\"text\")\r\n      .text(function (d) {\r\n        return d.name;\r\n      })\r\n      .style(\"font-size\", \"12px\")\r\n      .style(\"color\", \"#212121\")\r\n      .style(\"font-weight\", \"600\");\r\n\r\n    //Setting location when ticked\r\n    const ticked = () => {\r\n      link\r\n        .attr(\"x1\", (d) => {\r\n          return d.source.x;\r\n        })\r\n        .attr(\"y1\", (d) => {\r\n          return d.source.y;\r\n        })\r\n        .attr(\"x2\", (d) => {\r\n          return d.target.x;\r\n        })\r\n        .attr(\"y2\", (d) => {\r\n          return d.target.y;\r\n        });\r\n\r\n      node.attr(\"style\", (d) => {\r\n        return \"left: \" + d.x + \"px; top: \" + (d.y + 72) + \"px\";\r\n      });\r\n    };\r\n\r\n    //Starting simulation\r\n    simulation.nodes(data.nodes).on(\"tick\", ticked);\r\n\r\n    simulation.force(\"link\").links(data.links);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Book 1 Network</h1>\r\n      <div className=\"chartContainer\">\r\n        <svg className=\"chart\"></svg>\r\n      </div>\r\n      <div class=\"tv\">{name}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NetworkChart;\r\n","import { useEffect, useState } from \"react\";\nimport NetworkChart from \"./NetworkChart\";\nimport RawData from \"./book1.json\";\nimport \"./App.css\";\n\nfunction createLinks(nodes, raw) {\n  let lines = [];\n\n  raw.forEach((element) => {\n    let source = element.Source;\n    let target = element.Target;\n\n    let sourceElement = nodes.find((element) => element.name === source);\n    let targetElement = nodes.find((element) => element.name === target);\n\n    lines.push({\n      source: sourceElement.id,\n      target: targetElement.id,\n      weight: element.weight,\n    });\n  });\n\n  return lines;\n}\n\nfunction createNodes(raw) {\n  let characters = [];\n  let nodes = [];\n  let count = 0;\n\n  raw.forEach((element, index) => {\n    let source = element.Source;\n    let target = element.Target;\n\n    if (!characters.includes(source)) {\n      characters.push(source);\n      nodes.push({ id: count, name: source });\n      count += 1;\n    }\n\n    if (!characters.includes(target)) {\n      characters.push(target);\n      nodes.push({ id: count, name: target });\n      count += 1;\n    }\n  });\n\n  return nodes;\n}\n\nfunction mergeData(nodes, links) {\n  let data = { nodes: nodes, links: links };\n  return data;\n}\n\nfunction App() {\n  useEffect(() => {\n    let raw = RawData;\n    let nodes = createNodes(raw);\n    let links = createLinks(nodes, raw);\n\n    let finalData = mergeData(nodes, links);\n\n    setData(finalData);\n\n    setIsLoaded(true);\n  }, []);\n\n  const [data, setData] = useState({});\n\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  return isLoaded && <NetworkChart data={data} />;\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}